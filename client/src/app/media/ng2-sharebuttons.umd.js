/**
 * Created by wiltz011 on 4/13/17.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/http"),require("@angular/common"),require("rxjs/Observable"),require("rxjs/add/operator/catch"),require("rxjs/add/observable/empty")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/http","@angular/common","rxjs/Observable","rxjs/add/operator/catch","rxjs/add/observable/empty"],e):e(t.ng2Sharebuttons=t.ng2Sharebuttons||{},t.ng.core,t.ng.http,t.ng.common,t.Rx,t.Rx.Observable.prototype,t.Rx.Observable.prototype)}(this,function(t,e,n,r,o,s,i){"use strict";function a(){return"undefined"!=typeof window?window:void 0}var u=function(){function t(){}return t.prototype.transform=function(t,e){if("number"!=typeof t)throw new Error("A number is expected for nFormatter");return l.nFormatter(t,e)},t.decorators=[{type:e.Pipe,args:[{name:"nFormatter"}]}],t.ctorParameters=[],t}();!function(t){t[t.FACEBOOK=0]="FACEBOOK",t[t.TWITTER=1]="TWITTER",t[t.REDDIT=2]="REDDIT",t[t.STUMBLEUPON=3]="STUMBLEUPON",t[t.LINKEDIN=4]="LINKEDIN",t[t.GOOGLEPLUS=5]="GOOGLEPLUS",t[t.TUMBLR=6]="TUMBLR",t[t.PINTEREST=7]="PINTEREST",t[t.WHATSAPP=8]="WHATSAPP"}(t.ShareProvider||(t.ShareProvider={}));var p;!function(t){function e(t){var e="https://www.facebook.com/sharer/sharer.php?u="+t.url;return t.title&&(e+="&title="+t.title),t.description&&(e+="&description="+t.description),t.image&&(e+="&picture="+t.image),e}function n(t){var e="https://twitter.com/intent/tweet?url="+t.url;return t.description&&(e+="&text="+t.description),this.twitterAccount&&(e+="&via="+this.twitterAccount),t.tags&&(e+="&hashtags="+t.tags),e}function r(t){var e="http://www.linkedin.com/shareArticle?url="+t.url;return t.title&&(e+="&title="+t.title),t.description&&(e+="&summary="+t.description),e}function o(t){var e="http://www.reddit.com/submit?url="+t.url;return t.title&&(e+="&title="+t.title),e}function s(t){var e="http://tumblr.com/widgets/share/tool?canonicalUrl="+t.url;return t.description&&(e+="&caption="+t.description),t.tags&&(e+="&tags="+t.tags),e}function i(t){return"http://www.stumbleupon.com/submit?url="+t.url}function a(t){return"https://plus.google.com/share?url="+t.url}function u(t){var e="https://in.pinterest.com/pin/create/button/?url="+t.url;if(t.description)e+="&description="+t.description;else if(document){var n=document.querySelector('meta[property="og:description"]');n&&(e+="&description="+n.getAttribute("content"))}if(t.image)e+="&media="+t.image;else if(document){var r=document.querySelector('meta[property="og:image"]');r&&(e+="&media="+r.getAttribute("content"))}return e}function p(t){var e="whatsapp://send?text=";return t.title&&(e+="*"+t.title+"* %0A"),t.description&&(e+=t.description+" | "),e+=""+t.url}t.fbShare=e,t.twitterShare=n,t.linkedInShare=r,t.redditShare=o,t.tumblrShare=s,t.stumbleShare=i,t.gPlusShare=a,t.pinShare=u,t.whatsappShare=p}(p||(p={}));var l;!function(e){e.gplusCountBody=function(t){return[{method:"pos.plusones.get",id:"p",params:{nolog:!0,id:decodeURIComponent(t),source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}]},e.shareFactory=function(e,n){switch(e){case t.ShareProvider.FACEBOOK:return p.fbShare(n);case t.ShareProvider.TWITTER:return p.twitterShare(n);case t.ShareProvider.LINKEDIN:return p.linkedInShare(n);case t.ShareProvider.REDDIT:return p.redditShare(n);case t.ShareProvider.TUMBLR:return p.tumblrShare(n);case t.ShareProvider.STUMBLEUPON:return p.stumbleShare(n);case t.ShareProvider.GOOGLEPLUS:return p.gPlusShare(n);case t.ShareProvider.PINTEREST:return p.pinShare(n);case t.ShareProvider.WHATSAPP:return p.whatsappShare(n);default:return""}},e.nFormatter=function(t,e){var n,r=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"}],o=/\.0+$|(\.[0-9]*[1-9])0+$/;for(n=0;n<r.length;n++)if(t>=r[n].value)return(t/r[n].value).toFixed(e).replace(o,"$1")+r[n].symbol;return t.toFixed(e).replace(o,"$1")},e.getEnumValue=function(t,e){var n;return"undefined"!=typeof t&&("string"==typeof t&&e[t.toUpperCase()]>=0?n=e[t.toUpperCase()]:"number"==typeof t&&e[""+t]&&(n=e[e[""+t]])),n}}(l||(l={}));var c=function(){function t(t,e,n){this.provider=t,this.template=e,this.classes=n}return t}(),h=function(){function t(t,e,n,r,o){this.url=t,this.title=e,this.description=n,this.image=r,this.tags=o}return t}(),d=function(){function n(){this.showCount=!1,this.totalCount=!1,this.defaultStyle=!0,this.buttonClass="",this.facebook='<i class="fa fa-facebook"></i>',this.twitter='<i class="fa fa-twitter"></i>',this.linkedIn='<i class="fa fa-linkedin"></i>',this.tumblr='<i class="fa fa-tumblr"></i>',this.google='<i class="fa fa-google-plus"></i>',this.pinterest='<i class="fa fa-pinterest-p"></i>',this.stumbleUpOn='<i class="fa fa-stumbleupon"></i>',this.reddit='<i class="fa fa-reddit-alien"></i>',this.whatsApp='<i class="fa fa-whatsapp"></i>',this.count=new e.EventEmitter,this.popUpClosed=new e.EventEmitter,this.tCount=0}return n.prototype.ngOnInit=function(){this.buttons=[],this.facebook&&this.buttons.push(new c(t.ShareProvider.FACEBOOK,this.facebook,"facebook "+this.buttonClass)),this.twitter&&this.buttons.push(new c(t.ShareProvider.TWITTER,this.twitter,"twitter "+this.buttonClass)),this.google&&this.buttons.push(new c(t.ShareProvider.GOOGLEPLUS,this.google,"googleplus "+this.buttonClass)),this.pinterest&&this.buttons.push(new c(t.ShareProvider.PINTEREST,this.pinterest,"pinterest "+this.buttonClass)),this.linkedIn&&this.buttons.push(new c(t.ShareProvider.LINKEDIN,this.linkedIn,"linkedin "+this.buttonClass)),this.tumblr&&this.buttons.push(new c(t.ShareProvider.TUMBLR,this.tumblr,"tumblr "+this.buttonClass)),this.reddit&&this.buttons.push(new c(t.ShareProvider.REDDIT,this.reddit,"reddit "+this.buttonClass)),this.stumbleUpOn&&this.buttons.push(new c(t.ShareProvider.STUMBLEUPON,this.stumbleUpOn,"stumbleupon "+this.buttonClass)),this.whatsApp&&this.buttons.push(new c(t.ShareProvider.WHATSAPP,this.whatsApp,"whatsapp "+this.buttonClass))},n.prototype.ngOnChanges=function(t){if(t.url){var e=t.url.currentValue,n=t.url.previousValue;e&&e!==n&&(this.tCount=0)}},n.prototype.counter=function(t){this.tCount+=t,this.count.emit(t)},n.prototype.shareClosed=function(t){this.popUpClosed.emit(t)},n.decorators=[{type:e.Component,args:[{selector:"share-buttons",template:'\n      <div class="sb-container">\n        <h3>\n          <span *ngIf="totalCount && tCount" class="sb-count">\n            {{tCount | nFormatter: 1}}\n          </span>\n          <span *ngIf="shareTitle" class="sb-title">{{shareTitle}}</span>\n        </h3>\n\n        <div class="sb-buttons" [class.sb-default-style]="defaultStyle">\n          <share-button class="sb-button" *ngFor="let button of buttons"\n          [button]="button"\n          [url]="url"\n          [image]="image"\n          [title]="title"\n          [description]="description"\n          [tags]="tags"\n          [showCount]="count"\n          (count)="counter($event)"\n          (popUpClosed)="shareClosed($event)"></share-button>\n        </div>\n      </div>\n    ',styles:['\n      .sb-container .btn,.sb-container button{display:inline-block;margin-right:5px;background-color:#fff;border-radius:4px;padding:.43333em}.sb-container .btn:hover,.sb-container button:hover{color:#fff}.sb-container a:hover,.sb-container button{cursor:pointer;outline:0;border:0}.sb-container .sb-buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:20px 0}.sb-container .sb-buttons .sb-button{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.sb-container .sb-buttons .sb-button-count{font-size:.8em;text-align:center;position:relative;color:#333;margin-top:10px}.sb-container .sb-buttons .sb-button-count:before{position:absolute;top:-7px;left:50%;margin-left:-4px;content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:5px solid #e03237}.sb-container button{max-width:80px;min-width:50px;width:100%;background-color:transparent;margin:5px;font-size:1.2em}.sb-container button:hover{-webkit-transition:all .5s ease;transition:all .5s ease}.sb-default-style .facebook{color:#3b5998}.sb-default-style .facebook:hover{background:#3b5998}.sb-default-style .twitter{color:#00acee}.sb-default-style .twitter:hover{background:#00acee}.sb-default-style .googleplus{color:#e93f2e}.sb-default-style .googleplus:hover{background:#e93f2e}.sb-default-style .stumbleupon{color:#f74425}.sb-default-style .stumbleupon:hover{background:#f74425}.sb-default-style .linkedin{color:#0e76a8}.sb-default-style .linkedin:hover{background:#0e76a8}.sb-default-style .pinterest{color:#c92228}.sb-default-style .pinterest:hover{background:#c92228}.sb-default-style .reddit{color:#ff4006}.sb-default-style .reddit:hover{background:#ff4006}.sb-default-style .tumblr{color:#36465d}.sb-default-style .tumblr:hover{background:#36465d}.sb-default-style .github{color:purple}.sb-default-style .github:hover{background:purple}.sb-default-style .stackoverflow{color:#f48023}.sb-default-style .stackoverflow:hover{background:#f48023}.sb-default-style .whatsapp{color:#128c7e}.sb-default-style .whatsapp:hover{background:#128c7e}\n    '],encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=[],n.propDecorators={url:[{type:e.Input}],title:[{type:e.Input}],description:[{type:e.Input}],image:[{type:e.Input}],tags:[{type:e.Input}],shareTitle:[{type:e.Input}],showCount:[{type:e.Input}],totalCount:[{type:e.Input}],defaultStyle:[{type:e.Input}],buttonClass:[{type:e.Input}],facebook:[{type:e.Input}],twitter:[{type:e.Input}],linkedIn:[{type:e.Input}],tumblr:[{type:e.Input}],google:[{type:e.Input}],pinterest:[{type:e.Input}],stumbleUpOn:[{type:e.Input}],reddit:[{type:e.Input}],whatsApp:[{type:e.Input}],count:[{type:e.Output}],popUpClosed:[{type:e.Output}]},n}(),b=function(){function t(){this.showCount=!1,this.count=new e.EventEmitter,this.popUpClosed=new e.EventEmitter}return t.prototype.counter=function(t){this.shareCount=t,this.count.emit(t)},t.prototype.shareClosed=function(t){this.popUpClosed.emit(t)},t.decorators=[{type:e.Component,args:[{selector:"share-button",template:'\n      <button [innerHtml]="button.template" \n        [ngClass]="button.classes" \n        [shareButton]="button.provider" \n        [sbUrl]="url" \n        [sbImage]="image"\n        [sbTitle]="title" \n        [sbDescription]="description" \n        [sbTags]="tags" \n        [sbShowCount]="showCount" \n        (sbCount)="counter($event)" \n        (sbPopUpClosed)="shareClosed($event)">\n      </button>\n\n      <span *ngIf="showCount && shareCount" class="sb-button-count">{{ shareCount | nFormatter: 1 }}</span>\n    ',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=[],t.propDecorators={url:[{type:e.Input}],title:[{type:e.Input}],description:[{type:e.Input}],image:[{type:e.Input}],tags:[{type:e.Input}],button:[{type:e.Input}],showCount:[{type:e.Input}],count:[{type:e.Output}],popUpClosed:[{type:e.Output}]},t}(),f=function(){function t(){}return Object.defineProperty(t.prototype,"nativeWindow",{get:function(){return a()},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Injectable}],t.ctorParameters=[],t}(),m=function(){function r(t,e,n){this.http=e,this.jsonp=n,this.windowWidth=500,this.windowHeight=400,this.window=t.nativeWindow}return r.prototype.validateUrl=function(t){if(t){var e=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(e.test(t))return encodeURIComponent(t);console.warn("[ShareButtons]: Invalid URL, fallback to Window URL")}return this.window?encodeURIComponent(this.window.location.href):global.url||""},r.prototype.share=function(t,e,n){var r=this,o=this.window.open(l.shareFactory(t,e),"newwindow",this.windowAttr());if(this.window)var s=this.window.setInterval(function(){o.closed&&(r.window.clearInterval(s),n.emit(t))},200)},r.prototype.count=function(e,n,r){switch(e){case t.ShareProvider.FACEBOOK:this.fbCount(n,r);break;case t.ShareProvider.LINKEDIN:this.linkedInCount(n,r);break;case t.ShareProvider.REDDIT:this.redditCount(n,r);break;case t.ShareProvider.TUMBLR:this.tumblrCount(n,r);break;case t.ShareProvider.GOOGLEPLUS:this.gPlusCount(n,r);break;case t.ShareProvider.PINTEREST:this.pinCount(n,r)}},r.prototype.fbCount=function(t,e){this.fetch("https://graph.facebook.com/?id="+t).subscribe(function(t){return t=t.json(),t.hasOwnProperty("share")&&t.share.hasOwnProperty("share_count")?void e.emit(t.share.share_count):void e.emit(0)})},r.prototype.linkedInCount=function(t,e){this.fetchJsonp("https://www.linkedin.com/countserv/count/share?url="+t).subscribe(function(t){t=t.json(),e.emit(t.count||0)})},r.prototype.redditCount=function(t,e){this.fetch("https://buttons.reddit.com/button_info.json?url="+t).subscribe(function(t){return t=t.json(),t.hasOwnProperty("data")&&t.data.hasOwnProperty("children")&&t.data.children.length?void e.emit(t.data.children[0].data.score):void e.emit(0)})},r.prototype.gPlusCount=function(t,e){var n=l.gplusCountBody(t);this.post("https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",n).subscribe(function(t){return t=t.json(),t[0]&&t[0].hasOwnProperty("result")?void e.emit(t[0].result.metadata.globalCounts.count):void e.emit(0)})},r.prototype.pinCount=function(t,e){this.fetch("https://api.pinterest.com/v1/urls/count.json?callback=receiveCount&url="+t).subscribe(function(t){t=t.text();var n=JSON.parse(t.replace(/^receiveCount\((.*)\)/,"$1"));e.emit(n.count||0)})},r.prototype.tumblrCount=function(t,e){this.fetchJsonp("https://api.tumblr.com/v2/share/stats?url="+t).subscribe(function(t){return t=t.json(),t.hasOwnProperty("response")&&t.response.hasOwnProperty("note_count")?void e.emit(t.response.note_count):void e.emit(0)})},r.prototype.post=function(t,e){var r=new n.Headers({"Content-Type":"application/json"}),s=new n.RequestOptions({headers:r});return this.http.post(t,e,s).catch(function(t){return o.Observable.empty()})},r.prototype.fetch=function(t){return this.http.get(t).catch(function(t){return o.Observable.empty()})},r.prototype.fetchJsonp=function(t){return this.jsonp.request(t+"&format=jsonp&callback=JSONP_CALLBACK").catch(function(t){return o.Observable.empty()})},r.prototype.windowAttr=function(){return"width="+this.windowWidth+", height="+this.windowHeight},r.decorators=[{type:e.Injectable}],r.ctorParameters=[{type:f},{type:n.Http},{type:n.Jsonp}],r}(),y=function(){function n(t){this.sbService=t,this.sbCount=new e.EventEmitter,this.sbPopUpClosed=new e.EventEmitter}return Object.defineProperty(n.prototype,"shareButton",{set:function(e){if(this.provider=l.getEnumValue(e,t.ShareProvider),"undefined"==typeof this.provider)throw new Error("[shareButton] must be set to one of the values (numeric or string) of ShareProvider enum: was '"+e+"'")},enumerable:!0,configurable:!0}),n.prototype.onClick=function(){this.share()},n.prototype.ngOnChanges=function(t){if(this.sbUrl=this.sbService.validateUrl(this.sbUrl),t.sbUrl){var e=t.sbUrl.currentValue,n=t.sbUrl.previousValue;e&&e!==n&&this.sbShowCount&&this.sbService.count(this.provider,this.sbUrl,this.sbCount)}},n.prototype.share=function(){var t=new h(this.sbUrl,this.sbTitle,this.sbDescription,this.sbImage,this.sbTags);this.sbService.share(this.provider,t,this.sbPopUpClosed)},n.decorators=[{type:e.Directive,args:[{selector:"[shareButton]"}]}],n.ctorParameters=[{type:m}],n.propDecorators={shareButton:[{type:e.Input}],sbUrl:[{type:e.Input}],sbTitle:[{type:e.Input}],sbDescription:[{type:e.Input}],sbImage:[{type:e.Input}],sbTags:[{type:e.Input}],sbShowCount:[{type:e.Input}],sbCount:[{type:e.Output}],sbPopUpClosed:[{type:e.Output}],onClick:[{type:e.HostListener,args:["click"]}]},n}(),v=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[d,b,y,u],imports:[r.CommonModule,n.JsonpModule],providers:[m,f],exports:[d,b,y,u]}]}],t.ctorParameters=[],t}();t.ShareButtonsModule=v,t.ShareButtonsComponent=d,t.ShareButtonDirective=y,t.ShareButton=c,t.NFormatterPipe=u,t.ShareButtonsService=m,t.ShareArgs=h,Object.defineProperty(t,"__esModule",{value:!0})});
